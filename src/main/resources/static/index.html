<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>springboot with Toast UI</title>
</head>
<link rel="stylesheet" href="https://uicdn.toast.com/tui-grid/latest/tui-grid.css" />
<script src="https://uicdn.toast.com/tui-grid/latest/tui-grid.js"></script>
<body>

<h3>springboot with Toast UI</h3>

<input type="button" value="데이터 가져오기" onclick="getData()"/>

<div id="grid"></div>
</body>

<script>
    window.onload = init();

    var dataSource;
    var grid;

    function getData() {
        let param = new Object();
        param.id = '1';

        const url = "/board/findBoardList.do";
        fetch(url, {
            method:'POST',
            body: JSON.stringify(param),
            headers: {
                'Content-Type': 'application/json'
            }
        }).then((res) => {
            // Promise 반환
            return res.json();
        }).then((json) => {
            // 서버 리턴값
            dataSource = json;
            createGrid();
        })
    }
    function init() {
        dataSource = [{id:'1', name:'이름', content:'내용0923840wroiweuroiwuer9823ur0293ur0weiruweoiu'}];
        console.log(dataSource);
        //createGrid();
    }

    function createGrid() {

        grid = new tui.Grid({
            el: document.getElementById('grid'),
            data: dataSource,
            scrollX: false,
            scrollY: false,
            columns: [
                {
                    header: '아이디',
                    name: 'id'
                },
                {
                    header: '이름',
                    name: 'name'
                },
                {
                    header: '내용',
                    name: 'content'
                }
            ]
        });
    }
</script>
</html>